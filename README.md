# homework9 работа с systemd
Vagrantfile - разворачивает ВМ Centos8 Stream
timer.sh - скрипт автоматической настройки ВМ в соответствии с заданиями. Размещать в одном каталоге с Vagrantfile. Запускается в процессе развертывания ВМ. Требуется доступ в интернет.
После окончания процесса развертывания ВМ можно начинать проверку.
Задание 1: Написать service, который будет раз в 30 секунд мониторить лог на предмет наличия ключевого слова (файл лога и ключевое слово должны задаваться в /etc/sysconfig или в /etc/default).
В данном случае файл конфигурации: /etc/sysconfig/watchlog (ключевое слово ALERT), файл лога: /var/log/watchlog.log, сервис запускается каждые 10 сек.
Проверка: systemctl status watchlog.timer (видим запущенный таймер), tail -f /var/log/messages (видим сообщения "I found word, Master!" - результат работы сервиса при нахождении в логе ключевого слова)
Задание 2: Установить spawn-fcgi и переписать init-скрипт на unit-файл (имя service должно называться так же: spawn-fcgi).
Проверка: systemctl status spawn-fcgi.service (видим запущенный сервис)
Задание 3: Дополнить unit-файл httpd (он же apache2) возможностью запустить несколько инстансов сервера с разными конфигурационными файлами.
Проверка: ss -tnulp | grep httpd (видим 2 запущенных экземпляра, один слушает 80 порт, второй 8080)
